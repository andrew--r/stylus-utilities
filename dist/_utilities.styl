path-to-images = "/static/images/"                  // Абсолютный путь к папке с изображениями
path-to-images-from-this = "../.." + path-to-images // Путь к папке с изображениями относительно данного файла

// Центрирование по горизонтали блока заданной ширины
container(width)
  width width
  margin-left auto
  margin-right auto




// Центрирование блока по горизонтали и вертикали.
// У потомка должно быть задано position: relative
center-both(width)
  width width
  margin-left auto
  margin-right auto
  position absolute
  top 50%
  left 50%
  transform translate(-50%, -50%)




// Сброс обтекания для плавающих блоков-потомков
clearfix()
  &:before,
  &:after
    content " "
    display table

  &:after
    clear both




// Применяется к родительскому блоку, в который вложено n inline-block потомков.
// Эти потомки будут распределены по ширине родительского блока
justify()
  font-size 1px
  line-height 0

  zoom 1

  text-align justify
  text-align-last justify
  text-justify newspaper

  &:after
    display inline-block
    visibility hidden

    overflow hidden

    width 100%
    height 0

    content ''




// Применяется к inline-block элементам, вложенным в родителя с применённым justify.
// Следует указать нужный размер шрифта в блоках, так как в justify он сбрасывается
justify-child(font-size = 16px)
  font-size font-size
  line-height normal

  display inline-block

  vertical-align top




// Красивое обрезание лишнего текста
text-overflow()
  overflow hidden
  white-space nowrap
  text-overflow ellipsis




// Скрытие текста у блока
hidetext()
  font 0/0 a
  text-shadow none
  color transparent




// Запрет выделения текста
noselection()
  user-select none
  -webkit-touch-callout none

  &:hover
    cursor default



// Задаёт цвет плейсхолдера
placeholder-color(color)
  &:-moz-placeholder,
  &::-moz-placeholder
    color color
    opacity 1
    
  &::-webkit-input-placeholder
    color color




// Хак для включения аппаратного ускорения.
// Поддержка браузерами: IE10+
gpu()
  transform translate3d(0, 0, 0)




// Быстрое задание фоновой картинки
bgi(path)
  bpath = path-to-images + path
  dpath = path-to-images-from-this + path
  background url(bpath)
  width image-size(dpath)[0]
  height image-size(dpath)[1]




// Сброс стандартных стилей у списков.
// Полезно при вёрстке различных меню
clearlist()
  padding 0
  margin 0
  list-style none
  li
    display inline-block




// Прозрачность для IE8
opacity(level)
  opacity level
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=" + level*100 + ")";




// Размер шрифта в rem с фоллбэком в px
rems(value)
  font-size value
  font-size unit(value/16, 'rem')




// TODO
// • retina-изображения
// • медиазапросы